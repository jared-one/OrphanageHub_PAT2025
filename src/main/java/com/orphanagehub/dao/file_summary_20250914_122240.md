# CONFIGURATION QUERY OUTPUT
Generated: 2025-09-14 12:22:40
Directory: /home/jared/OrphanageHub_PAT2025/src/main/java/com/orphanagehub/dao
================================================================================

------------------------------------------------------------
File: VolunteerOpportunityDAO.java
Size: 5807 bytes
```java
package com.orphanagehub.dao;

import com.orphanagehub.model.VolunteerOpportunity;
import io.vavr.collection.List;
import io.vavr.control.Option;
import io.vavr.control.Try;
import java.sql.*;
import java.util.UUID;

public class VolunteerOpportunityDAO {
    
    public Try<Void> create(VolunteerOpportunity opportunity) {
        return DatabaseManager.getConnection()
            .flatMap(conn -> Try.withResources(() -> conn)
                .of(connection -> {
                    String sql = "INSERT INTO TblVolunteerOpportunities (OpportunityID, OrphanageID, SkillRequired, Location, TimeCommitment, Status) VALUES (?, ?, ?, ?, ?, ?)";
                    try (PreparedStatement ps = connection.prepareStatement(sql)) {
                        ps.setString(1, UUID.randomUUID().toString().substring(0, 10));
                        ps.setString(2, opportunity.orphanageId());
                        ps.setString(3, opportunity.skillRequired());
                        ps.setString(4, opportunity.location());
                        ps.setString(5, opportunity.timeCommitment().getOrNull());
                        ps.setString(6, opportunity.status());
                        ps.executeUpdate();
                    }
                    return null;
                }));
    }
    
    public Try<Option<VolunteerOpportunity>> findById(String id) {
        return DatabaseManager.getConnection()
            .flatMap(conn -> Try.withResources(() -> conn)
                .of(connection -> {
                    String sql = "SELECT * FROM TblVolunteerOpportunities WHERE OpportunityID = ?";
                    try (PreparedStatement ps = connection.prepareStatement(sql)) {
                        ps.setString(1, id);
                        ResultSet rs = ps.executeQuery();
                        return rs.next() ? Option.of(mapToVolunteerOpportunity(rs)) : Option.<VolunteerOpportunity>none();
                    }
                }));
    }
    
    public Try<List<VolunteerOpportunity>> findByOrphanageId(String orphanageId) {
        return DatabaseManager.getConnection()
            .flatMap(conn -> Try.withResources(() -> conn)
                .of(connection -> {
                    String sql = "SELECT * FROM TblVolunteerOpportunities WHERE OrphanageID = ?";
                    List<VolunteerOpportunity> opportunities = List.empty();
                    try (PreparedStatement ps = connection.prepareStatement(sql)) {
                        ps.setString(1, orphanageId);
                        ResultSet rs = ps.executeQuery();
                        while (rs.next()) {
                            opportunities = opportunities.append(mapToVolunteerOpportunity(rs));
                        }
                    }
                    return opportunities;
                }));
    }
    
    public Try<List<VolunteerOpportunity>> findAll() {
        return DatabaseManager.getConnection()
            .flatMap(conn -> Try.withResources(() -> conn)
                .of(connection -> {
                    String sql = "SELECT * FROM TblVolunteerOpportunities";
                    List<VolunteerOpportunity> opportunities = List.empty();
                    try (PreparedStatement ps = connection.prepareStatement(sql)) {
                        ResultSet rs = ps.executeQuery();
                        while (rs.next()) {
                            opportunities = opportunities.append(mapToVolunteerOpportunity(rs));
                        }
                    }
                    return opportunities;
                }));
    }
    
    public Try<Void> update(VolunteerOpportunity opportunity) {
        return Option.of(opportunity.opportunityId())
                .toTry(() -> new IllegalArgumentException("Opportunity ID required for update"))
                .flatMap(id -> DatabaseManager.getConnection()
                    .flatMap(conn -> Try.withResources(() -> conn)
                        .of(connection -> {
                            String sql = "UPDATE TblVolunteerOpportunities SET OrphanageID = ?, SkillRequired = ?, Location = ?, TimeCommitment = ?, Status = ? WHERE OpportunityID = ?";
                            try (PreparedStatement ps = connection.prepareStatement(sql)) {
                                ps.setString(1, opportunity.orphanageId());
                                ps.setString(2, opportunity.skillRequired());
                                ps.setString(3, opportunity.location());
                                ps.setString(4, opportunity.timeCommitment().getOrNull());
                                ps.setString(5, opportunity.status());
                                ps.setString(6, id);
                                ps.executeUpdate();
                            }
                            return null;
                        })));
    }
    
    public Try<Void> delete(String id) {
        return DatabaseManager.getConnection()
            .flatMap(conn -> Try.withResources(() -> conn)
                .of(connection -> {
                    String sql = "DELETE FROM TblVolunteerOpportunities WHERE Op
*(truncated)*
```

------------------------------------------------------------
File: OrphanageDAO.java
Size: 6726 bytes
```java
package com.orphanagehub.dao;

import com.orphanagehub.model.Orphanage;
import io.vavr.collection.List;
import io.vavr.control.Option;
import io.vavr.control.Try;
import java.sql.*;
import java.time.LocalDate;
import java.time.LocalDateTime;

public class OrphanageDAO {
    
    public Try<Orphanage> save(Orphanage orphanage) {
        return Try.of(() -> {
            String sql = "INSERT INTO TblOrphanages (OrphanageName, Address, City, Province, " +
                        "ContactPerson, ContactEmail, ContactPhone, UserID, VerificationStatus, " +
                        "DateRegistered, Status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {
                
                ps.setString(1, orphanage.orphanageName());
                ps.setString(2, orphanage.address());
                ps.setString(3, orphanage.city());
                ps.setString(4, orphanage.province());
                ps.setString(5, orphanage.contactPerson());
                ps.setString(6, orphanage.contactEmail());
                ps.setString(7, orphanage.contactPhone());
                ps.setInt(8, orphanage.userId());
                ps.setString(9, orphanage.verificationStatus());
                ps.setTimestamp(10, Timestamp.valueOf(orphanage.dateRegistered()));
                ps.setString(11, orphanage.status());
                
                ps.executeUpdate();
                
                try (ResultSet keys = ps.getGeneratedKeys()) {
                    if (keys.next()) {
                        return findById(keys.getInt(1)).get().get();
                    }
                }
                return orphanage;
            }
        });
    }
    
    public Try<Option<Orphanage>> findById(Integer id) {
        return Try.of(() -> {
            String sql = "SELECT * FROM TblOrphanages WHERE OrphanageID = ?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setInt(1, id);
                try (ResultSet rs = ps.executeQuery()) {
                    return rs.next() ? Option.of(mapRowToOrphanage(rs)) : Option.<Orphanage>none();
                }
            }
        });
    }
    
    public Try<List<Orphanage>> findByVerificationStatus(String status) {
        return Try.of(() -> {
            String sql = "SELECT * FROM TblOrphanages WHERE VerificationStatus = ?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, status);
                try (ResultSet rs = ps.executeQuery()) {
                    List<Orphanage> orphanages = List.empty();
                    while (rs.next()) {
                        orphanages = orphanages.append(mapRowToOrphanage(rs));
                    }
                    return orphanages;
                }
            }
        });
    }
    
    public Try<List<Orphanage>> findAllVerified() {
        return findByVerificationStatus("Verified");
    }
    
    public Try<Void> update(Orphanage orphanage) {
        return Try.run(() -> {
            String sql = "UPDATE TblOrphanages SET OrphanageName = ?, Address = ?, City = ?, " +
                        "Province = ?, ContactPerson = ?, ContactEmail = ?, ContactPhone = ?, " +
                        "VerificationStatus = ?, ModifiedDate = ? WHERE OrphanageID = ?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, orphanage.orphanageName());
                ps.setString(2, orphanage.address());
                ps.setString(3, orphanage.city());
                ps.setString(4, orphanage.province());
                ps.setString(5, orphanage.contactPerson());
                ps.setString(6, orphanage.contactEmail());
                ps.setString(7, orphanage.contactPhone());
                ps.setString(8, orphanage.verificationStatus());
                ps.setTimestamp(9, Timestamp.valueOf(LocalDateTime.now()));
                ps.setInt(10, orphanage.orphanageId());
                ps.executeUpdate();
            }
        });
    }
    
    private Orphanage mapRowToOrphanage(ResultSet rs) throws SQLException {
        return new Orphanage(
            rs.getObject("OrphanageID", Integer.class),
            rs.getString("OrphanageName"),
            Option.of(rs.getString("RegistrationNumber")),
            Option.of(rs.getString("TaxNumber")),
            rs.getString("Address"),
            rs.getString("City"),
            rs.getString("Province"),
            Option.of(rs.getString("PostalCode")),
            rs.getString("ContactPerson"),
            rs.getString("ContactEmail"),
            rs.getString("ContactPhone"),
            Option.of(rs.getString("AlternatePhone")),
            Option.of(rs.getString("Web
*(truncated)*
```

------------------------------------------------------------
File: ResourceRequestDAO.java
Size: 4834 bytes
```java
package com.orphanagehub.dao;

import com.orphanagehub.model.ResourceRequest;
import io.vavr.collection.List;
import io.vavr.control.Option;
import io.vavr.control.Try;
import java.sql.*;
import java.time.LocalDateTime;
import java.util.UUID;

public class ResourceRequestDAO {
    
    public Try<Void> create(ResourceRequest request) {
        return Try.run(() -> {
            String sql = "INSERT INTO TblResourceRequests (RequestID, OrphanageID, UserID, ItemCategory, ItemDescription, QuantityNeeded, QuantityFulfilled, Urgency, Status, DatePosted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, UUID.randomUUID().toString().substring(0, 10));
                ps.setString(2, request.orphanageId());
                ps.setString(3, request.userId());
                ps.setString(4, request.itemCategory());
                ps.setString(5, request.itemDescription());
                ps.setInt(6, request.quantityNeeded());
                ps.setInt(7, request.quantityFulfilled());
                ps.setString(8, request.urgency());
                ps.setString(9, request.status());
                ps.setTimestamp(10, request.datePosted());
                ps.executeUpdate();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        });
    }
    
    public Try<List<ResourceRequest>> findByOrphanageId(String orphanageId) {
        return Try.of(() -> {
            String sql = "SELECT * FROM TblResourceRequests WHERE OrphanageID = ?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                List<ResourceRequest> requests = List.empty();
                ps.setString(1, orphanageId);
                ResultSet rs = ps.executeQuery();
                while (rs.next()) {
                    requests = requests.append(mapToResourceRequest(rs));
                }
                return requests;
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        });
    }
    
    public Try<Option<ResourceRequest>> findById(String requestId) {
        return Try.of(() -> {
            String sql = "SELECT * FROM TblResourceRequests WHERE RequestID = ?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, requestId);
                ResultSet rs = ps.executeQuery();
                return rs.next() ? Option.of(mapToResourceRequest(rs)) : Option.<ResourceRequest>none();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        });
    }
    
    public Try<Void> update(ResourceRequest request) {
        return Try.run(() -> {
            String sql = "UPDATE TblResourceRequests SET ItemDescription=?, QuantityNeeded=?, QuantityFulfilled=?, Urgency=?, Status=? WHERE RequestID=?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, request.itemDescription());
                ps.setInt(2, request.quantityNeeded());
                ps.setInt(3, request.quantityFulfilled());
                ps.setString(4, request.urgency());
                ps.setString(5, request.status());
                ps.setString(6, request.requestId());
                ps.executeUpdate();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        });
    }
    
    public Try<Void> delete(String requestId) {
        return Try.run(() -> {
            String sql = "DELETE FROM TblResourceRequests WHERE RequestID=?";
            try (Connection conn = DatabaseManager.getConnection().get();
                 PreparedStatement ps = conn.prepareStatement(sql)) {
                ps.setString(1, requestId);
                ps.executeUpdate();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        });
    }
    
    private static ResourceRequest mapToResourceRequest(ResultSet rs) throws SQLException {
        return new ResourceRequest(
            rs.getString("RequestID"),
            rs.getString("OrphanageID"),
            rs.getString("UserID"),
            rs.getString("ItemCategory"),
            rs.getString("ItemDescription"),
            rs.getInt("QuantityNeeded"),
            rs.getInt("QuantityFulfilled"),
            rs.getString("Urgency"),
            rs.getString("Status"),
            rs.getTimestamp("DatePosted")
        );
    }
}
```

------------------------------------------------------------
File: AuditLogDAO.java
Size: 441 bytes
```java
package com.orphanagehub.dao;

import com.orphanagehub.model.AuditLog;
import io.vavr.control.Try;
import io.vavr.control.Option;
import io.vavr.collection.List;

public class AuditLogDAO {
    
    public Try<Void> log(String action, Integer userId, String details) {
        return Try.of(() -> null);
    }
    
    public Try<List<AuditLog>> findByUser(Integer userId) {
        return Try.of(() -> List.empty());
    }
}
```

------------------------------------------------------------
File: VolunteerApplicationDAO.java
Size: 608 bytes
```java
package com.orphanagehub.dao;

import com.orphanagehub.model.VolunteerApplication;
import io.vavr.control.Try;
import io.vavr.control.Option;
import io.vavr.collection.List;

public class VolunteerApplicationDAO {
    
    public Try<Void> create(VolunteerApplication application) {
        return Try.of(() -> null);
    }
    
    public Try<Option<VolunteerApplication>> findById(Integer id) {
        return Try.of(() -> Option.none());
    }
    
    public Try<List<VolunteerApplication>> findByOpportunity(Integer opportunityId) {
        return Try.of(() -> List.empty());
    }
}
```

================================================================================
Total: 5 files