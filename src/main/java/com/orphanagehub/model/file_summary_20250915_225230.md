# CONFIGURATION QUERY OUTPUT
Generated: 2025-09-15 22:52:30
Directory: /home/jared/OrphanageHub_PAT2025/src/main/java/com/orphanagehub/model
================================================================================

------------------------------------------------------------
File: VolunteerOpportunity.java
Size: 6386 bytes
```java
package com.orphanagehub.model;

import io.vavr.control.Option;
import java.time.LocalDate;
import java.time.LocalDateTime;

/**
 * Immutable VolunteerOpportunity model representing the TblVolunteerOpportunities table.
 * Defines volunteer positions available at orphanages.
 * 
 * @author OrphanageHub Team
 * @version 2.0
 * @since 2025-09-06
 */
public record VolunteerOpportunity(
    Integer opportunityId,
    Integer orphanageId,
    String title,
    String description,
    String category,
    Option<String> skillsRequired,
    Option<String> skillLevel,
    Option<String> timeCommitment,
    Option<Integer> hoursPerWeek,
    Option<String> duration,
    Option<LocalDate> startDate,
    Option<LocalDate> endDate,
    Option<String> recurringSchedule,
    Option<Integer> minAge,
    Option<Integer> maxAge,
    Option<Integer> maxVolunteers,
    Integer currentVolunteers,
    boolean backgroundCheckRequired,
    boolean trainingProvided,
    Option<String> trainingDetails,
    boolean transportProvided,
    boolean mealsProvided,
    String status,
    String urgencyLevel,
    LocalDateTime createdDate,
    Integer createdBy,
    Option<LocalDateTime> modifiedDate,
    Option<Integer> modifiedBy,
    Option<LocalDateTime> publishedDate,
    Option<LocalDateTime> closedDate
) {
    
    public static final String STATUS_DRAFT = "Draft";
    public static final String STATUS_OPEN = "Open";
    public static final String STATUS_FILLED = "Filled";
    public static final String STATUS_CLOSED = "Closed";
    
    public static final String CATEGORY_TEACHING = "Teaching";
    public static final String CATEGORY_SPORTS = "Sports";
    public static final String CATEGORY_ARTS = "Arts";
    public static final String CATEGORY_MAINTENANCE = "Maintenance";
    public static final String CATEGORY_HEALTHCARE = "Healthcare";
    public static final String CATEGORY_ADMIN = "Administrative";
    public static final String CATEGORY_OTHER = "Other";
    
    /**
     * Creates a basic volunteer opportunity.
     */
    public static VolunteerOpportunity createBasic(Integer orphanageId, String title,
                                                  String description, String category,
                                                  Integer createdBy) {
        return new VolunteerOpportunity(
            null, orphanageId, title, description, category, Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), 0, false, false, Option.none(),
            false, false, STATUS_DRAFT, "Normal", LocalDateTime.now(),
            createdBy, Option.none(), Option.none(), Option.none(), Option.none()
        );
    }
    
    /**
     * Gets formatted opportunity details.
     */
    public String getDetails() {
        StringBuilder details = new StringBuilder();
        details.append(title).append(" - ").append(category);
        
        skillsRequired.forEach(skills -> details.append("\nSkills: ").append(skills));
        timeCommitment.forEach(time -> details.append("\nTime: ").append(time));
        hoursPerWeek.forEach(hours -> details.append(" (").append(hours).append(" hrs/week)"));
        
        if (backgroundCheckRequired) {
            details.append("\n[Background Check Required]");
        }
        if (trainingProvided) {
            details.append("\n[Training Provided]");
        }
        
        return details.toString();
    }
    
    /**
     * Checks if opportunity is open for applications.
     */
    public boolean isOpen() {
        return STATUS_OPEN.equalsIgnoreCase(status) && hasAvailableSlots();
    }
    
    /**
     * Checks if there are available volunteer slots.
     */
    public boolean hasAvailableSlots() {
        return maxVolunteers.map(max -> currentVolunteers < max).getOrElse(true);
    }
    
    /**
     * Gets number of available slots.
     */
    public Option<Integer> getAvailableSlots() {
        return maxVolunteers.map(max -> Math.max(0, max - currentVolunteers));
    }
    
    /**
     * Checks if age is eligible for this opportunity.
     */
    public boolean isAgeEligible(int age) {
        boolean aboveMin = minAge.map(min -> age >= min).getOrElse(true);
        boolean belowMax = maxAge.map(max -> age <= max).getOrElse(true);
        return aboveMin && belowMax;
    }
    
    /**
     * Checks if opportunity is active within date range.
     */
    public boolean isActiveOnDate(LocalDate date) {
        boolean afterStart = startDate.map(start -> !date.isBefore(start)).getOrElse(true);
        boolean beforeEnd = endDate.map(end -> !date.isAfter(end)).getOrElse(true);
        return afterStart && beforeEnd;
    }
    
    // Immutable update methods
  public VolunteerOpportunity withStatus(String newStatus) {
    LocalDateTime closedTime = STATUS_CLOSED.equalsIgnoreCase(newStatus) 
        ? LocalDateTime.now() : null;
    LocalDateTime publishedTime = STATUS_OPEN.equalsIgnoreCase(newStatus) && publishedDate.isEmpty()
        ? LocalDateTime.n
*(truncated)*
```

------------------------------------------------------------
File: User.java
Size: 5390 bytes
```java
package com.orphanagehub.model;

import io.vavr.control.Option;
import java.time.LocalDate;
import java.time.LocalDateTime;

/**
 * Immutable User model representing the TblUsers table.
 * Uses Option for nullable fields and records for immutability.
 * 
 * @author OrphanageHub Team
 * @version 2.0
 * @since 2025-09-06
 */
public record User(
    Integer userId,
    String username,
    String passwordHash,
    String email,
    String userRole,
    LocalDateTime dateRegistered,
    Option<LocalDateTime> lastLogin,
    Option<String> fullName,
    Option<String> phoneNumber,
    Option<String> idNumber,
    Option<LocalDate> dateOfBirth,
    Option<String> address,
    Option<String> city,
    Option<String> province,
    Option<String> postalCode,
    String accountStatus,
    boolean emailVerified,
    Option<String> verificationToken,
    Option<String> passwordResetToken,
    Option<LocalDateTime> passwordResetExpiry,
    Option<String> profilePicture,
    Option<String> bio,
    Option<String> createdBy,
    Option<LocalDateTime> modifiedDate,
    Option<String> modifiedBy
) {
    
    /**
     * Creates a User with minimal required fields.
     */
    public static User createBasic(Integer userId, String username, String passwordHash, 
                                  String email, String userRole) {
        return new User(
            userId, username, passwordHash, email, userRole,
            LocalDateTime.now(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), "Active", false, Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none()
        );
    }
    
    /**
     * Gets formatted user details.
     * @return Formatted string with user info
     */
    public String getDetails() {
        return String.format("User: %s (%s), Email: %s, Role: %s, Status: %s",
            username,
            fullName.getOrElse(username),
            email,
            userRole,
            accountStatus
        );
    }
    
    /**
     * Gets display name (full name if available, otherwise username).
     */
    public String getDisplayName() {
        return fullName.getOrElse(username);
    }
    
    /**
     * Checks if user is active.
     */
    public boolean isActive() {
        return "Active".equalsIgnoreCase(accountStatus);
    }
    
    /**
     * Checks if user has a specific role.
     */
    public boolean hasRole(String role) {
        return userRole != null && userRole.equalsIgnoreCase(role);
    }
    
    /**
     * Checks if user is staff (OrphanageRep or OrphanageStaff).
     */
    public boolean isStaff() {
        return hasRole("OrphanageRep") || hasRole("OrphanageStaff") || hasRole("Staff");
    }
    
    /**
     * Checks if password reset token is valid.
     */
    public boolean isPasswordResetTokenValid() {
        return passwordResetToken.isDefined() && 
               passwordResetExpiry.map(exp -> exp.isAfter(LocalDateTime.now())).getOrElse(false);
    }
    
    // Immutable update methods
    public User withAccountStatus(String newStatus) {
        return new User(userId, username, passwordHash, email, userRole, dateRegistered,
            lastLogin, fullName, phoneNumber, idNumber, dateOfBirth, address, city,
            province, postalCode, newStatus, emailVerified, verificationToken,
            passwordResetToken, passwordResetExpiry, profilePicture, bio, createdBy,
            modifiedDate, modifiedBy);
    }
    
    public User withLastLogin(LocalDateTime login) {
        return new User(userId, username, passwordHash, email, userRole, dateRegistered,
            Option.of(login), fullName, phoneNumber, idNumber, dateOfBirth, address, city,
            province, postalCode, accountStatus, emailVerified, verificationToken,
            passwordResetToken, passwordResetExpiry, profilePicture, bio, createdBy,
            modifiedDate, modifiedBy);
    }
    
    public User withEmailVerified(boolean verified) {
        return new User(userId, username, passwordHash, email, userRole, dateRegistered,
            lastLogin, fullName, phoneNumber, idNumber, dateOfBirth, address, city,
            province, postalCode, accountStatus, verified, Option.none(),
            passwordResetToken, passwordResetExpiry, profilePicture, bio, createdBy,
            modifiedDate, modifiedBy);
    }
    
    public User withPasswordResetToken(String token, LocalDateTime expiry) {
        return new User(userId, username, passwordHash, email, userRole, dateRegistered,
            lastLogin, fullName, phoneNumber, idNumber, dateOfBirth, address, city,
            province, postalCode, accountStatus, emailVerified, verificationToken,
            Option.of(token), Option.of(expiry), profilePicture, bio, createdBy,
            modifiedDate, modifiedBy);
    }
    
    public User clearPasswordResetToken() {
        return new User(userId, username, passwordHash, email, userRole, dateRegistered,
            lastL
*(truncated)*
```

------------------------------------------------------------
File: Orphanage.java
Size: 7612 bytes
```java
package com.orphanagehub.model;

import io.vavr.control.Option;
import java.time.LocalDate;
import java.time.LocalDateTime;

/**
 * Immutable Orphanage model representing the TblOrphanages table.
 * Includes all fields from the expanded database schema.
 * 
 * @author OrphanageHub Team
 * @version 2.0
 * @since 2025-09-06
 */
public record Orphanage(
    Integer orphanageId,
    String orphanageName,
    Option<String> registrationNumber,
    Option<String> taxNumber,
    String address,
    String city,
    String province,
    Option<String> postalCode,
    String contactPerson,
    String contactEmail,
    String contactPhone,
    Option<String> alternatePhone,
    Option<String> website,
    Option<String> description,
    Option<String> mission,
    Option<String> vision,
    Option<LocalDate> establishedDate,
    Option<Integer> capacity,
    Option<Integer> currentOccupancy,
    Option<Integer> ageGroupMin,
    Option<Integer> ageGroupMax,
    boolean acceptsDonations,
    boolean acceptsVolunteers,
    Option<String> bankName,
    Option<String> bankAccountNumber,
    Option<String> bankBranchCode,
    LocalDateTime dateRegistered,
    String verificationStatus,
    Option<LocalDateTime> verificationDate,
    Option<Integer> verifiedBy,
    Option<String> verificationNotes,
    Integer userId,  // The user who manages this orphanage
    String status,
    Option<String> logo,
    Option<String> coverImage,
    Option<Double> latitude,
    Option<Double> longitude,
    Option<LocalDateTime> modifiedDate,
    Option<String> modifiedBy
) {
    
    public static final String DEFAULT_STATUS = "Active";
    public static final String DEFAULT_VERIFICATION_STATUS = "Pending";
    
    /**
     * Creates an Orphanage with minimal required fields.
     */
    public static Orphanage createBasic(String name, String address, String city, 
                                       String province, String contactPerson,
                                       String contactEmail, String contactPhone,
                                       Integer userId) {
        return new Orphanage(
            null, name, Option.none(), Option.none(), address, city, province,
            Option.none(), contactPerson, contactEmail, contactPhone, Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(), true, true,
            Option.none(), Option.none(), Option.none(), LocalDateTime.now(),
            DEFAULT_VERIFICATION_STATUS, Option.none(), Option.none(), Option.none(),
            userId, DEFAULT_STATUS, Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none()
        );
    }
    
    /**
     * Gets formatted orphanage details.
     */
    public String getDetails() {
        return String.format("%s at %s, %s, %s - Contact: %s (%s)",
            orphanageName, address, city, province, contactPerson, contactEmail);
    }
    
    /**
     * Gets full address as a single string.
     */
    public String getFullAddress() {
        StringBuilder addr = new StringBuilder(address);
        addr.append(", ").append(city);
        addr.append(", ").append(province);
        postalCode.forEach(pc -> addr.append(", ").append(pc));
        return addr.toString();
    }
    
    /**
     * Checks if orphanage is verified.
     */
    public boolean isVerified() {
        return "Verified".equalsIgnoreCase(verificationStatus);
    }
    
    /**
     * Checks if orphanage is active.
     */
    public boolean isActive() {
        return "Active".equalsIgnoreCase(status);
    }
    
    /**
     * Checks if orphanage has capacity for more children.
     */
    public boolean hasCapacity() {
        if (capacity.isEmpty() || currentOccupancy.isEmpty()) {
            return true; // Unknown capacity, assume available
        }
        return currentOccupancy.get() < capacity.get();
    }
    
    /**
     * Gets occupancy percentage.
     */
    public Option<Double> getOccupancyPercentage() {
        if (capacity.isEmpty() || currentOccupancy.isEmpty() || capacity.get() == 0) {
            return Option.none();
        }
        return Option.of((currentOccupancy.get() * 100.0) / capacity.get());
    }
    
    /**
     * Checks if age is within accepted range.
     */
    public boolean acceptsAge(int age) {
        boolean aboveMin = ageGroupMin.map(min -> age >= min).getOrElse(true);
        boolean belowMax = ageGroupMax.map(max -> age <= max).getOrElse(true);
        return aboveMin && belowMax;
    }
    
    // Immutable update methods
    public Orphanage withVerificationStatus(String newStatus) {
        return new Orphanage(
            orphanageId, orphanageName, registrationNumber, taxNumber, address, city,
            province, postalCode, contactPerson, contactEmail, contactPhone,
            alternatePhone, website, description, mission, vision, establishedDate,
            capacity, currentOccupancy, ageGroupMin, ageGroupMax, acceptsDonations,
            acceptsVolunteers, bankN
*(truncated)*
```

------------------------------------------------------------
File: ResourceRequest.java
Size: 5738 bytes
```java
package com.orphanagehub.model;

import io.vavr.control.Option;
import java.time.LocalDate;
import java.time.LocalDateTime;

/**
 * Immutable ResourceRequest model representing the TblResourceRequests table.
 * Includes all fields from the expanded database schema.
 * 
 * @author OrphanageHub Team
 * @version 2.0
 * @since 2025-09-06
 */
public record ResourceRequest(
    Integer requestId,
    Integer orphanageId,
    String resourceType,
    String resourceDescription,
    Double quantity,
    Option<String> unit,
    String urgencyLevel,
    LocalDateTime requestDate,
    Option<LocalDate> neededByDate,
    String status,
    Option<LocalDateTime> fulfilledDate,
    Option<Integer> fulfilledBy,
    Option<String> fulfillmentNotes,
    Option<Double> estimatedValue,
    Option<Double> actualValue,
    Option<String> notes,
    Option<String> imagePath,
    Integer createdBy,
    Option<LocalDateTime> modifiedDate,
    Option<Integer> modifiedBy
) {
    
    public static final String DEFAULT_STATUS = "Open";
    public static final String STATUS_OPEN = "Open";
    public static final String STATUS_IN_PROGRESS = "In Progress";
    public static final String STATUS_FULFILLED = "Fulfilled";
    public static final String STATUS_CANCELLED = "Cancelled";
    
    /**
     * Creates a ResourceRequest with minimal required fields.
     */
    public static ResourceRequest createBasic(Integer orphanageId, String resourceType,
                                             String resourceDescription, Double quantity,
                                             String urgencyLevel, Integer createdBy) {
        return new ResourceRequest(
            null, orphanageId, resourceType, resourceDescription, quantity,
            Option.none(), urgencyLevel, LocalDateTime.now(), Option.none(),
            DEFAULT_STATUS, Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(),
            createdBy, Option.none(), Option.none()
        );
    }
    
    /**
     * Gets formatted request details.
     */
    public String getRequestDetails() {
        StringBuilder details = new StringBuilder();
        details.append(resourceDescription);
        details.append(" (Qty: ").append(quantity);
        unit.forEach(u -> details.append(" ").append(u));
        details.append(", Urgency: ").append(urgencyLevel);
        details.append(", Status: ").append(status);
        estimatedValue.forEach(val -> details.append(", Est. Value: R").append(String.format("%.2f", val)));
        details.append(")");
        return details.toString();
    }
    
    /**
     * Checks if request is urgent (Critical or High).
     */
    public boolean isUrgent() {
        return "Critical".equalsIgnoreCase(urgencyLevel) || 
               "High".equalsIgnoreCase(urgencyLevel);
    }
    
    /**
     * Checks if request is open for fulfillment.
     */
    public boolean isOpen() {
        return STATUS_OPEN.equalsIgnoreCase(status);
    }
    
    /**
     * Checks if request is overdue.
     */
    public boolean isOverdue() {
        return neededByDate.map(date -> LocalDate.now().isAfter(date) && isOpen()).getOrElse(false);
    }
    
    /**
     * Gets days until needed (negative if overdue).
     */
    public Option<Long> getDaysUntilNeeded() {
        return neededByDate.map(date -> {
            long days = java.time.temporal.ChronoUnit.DAYS.between(LocalDate.now(), date);
            return days;
        });
    }
    
    /**
     * Gets fulfillment percentage (if actualValue is available).
     */
    public Option<Double> getFulfillmentPercentage() {
        if (estimatedValue.isEmpty() || actualValue.isEmpty() || estimatedValue.get() == 0) {
            return Option.none();
        }
        return Option.of((actualValue.get() / estimatedValue.get()) * 100);
    }
    
    // Immutable update methods
    public ResourceRequest updateStatus(String newStatus) {
        return new ResourceRequest(
            requestId, orphanageId, resourceType, resourceDescription, quantity,
            unit, urgencyLevel, requestDate, neededByDate, newStatus, fulfilledDate,
            fulfilledBy, fulfillmentNotes, estimatedValue, actualValue, notes,
            imagePath, createdBy, Option.of(LocalDateTime.now()), modifiedBy
        );
    }
    
    public ResourceRequest markFulfilled(Integer fulfilledById, String notes, Double actualVal) {
        return new ResourceRequest(
            requestId, orphanageId, resourceType, resourceDescription, quantity,
            unit, urgencyLevel, requestDate, neededByDate, STATUS_FULFILLED,
            Option.of(LocalDateTime.now()), Option.of(fulfilledById),
            Option.of(notes), estimatedValue, Option.of(actualVal), this.notes,
            imagePath, createdBy, Option.of(LocalDateTime.now()), Option.of(fulfilledById)
        );
    }
    
    public ResourceRequest withEstimatedValue(Double value) {
        return new ResourceRequest(
            requestId, orphanageId, resourceType, resourceDescription, quantity,
            unit, urgencyLevel, request
*(truncated)*
```

------------------------------------------------------------
File: VolunteerApplication.java
Size: 4645 bytes
```java
package com.orphanagehub.model;

import io.vavr.control.Option;
import java.time.LocalDateTime;

/**
 * Immutable VolunteerApplication model representing the TblVolunteerApplications table.
 * Tracks volunteer applications to opportunities.
 * 
 * @author OrphanageHub Team
 * @version 2.0
 * @since 2025-09-06
 */
public record VolunteerApplication(
    Integer applicationId,
    Integer opportunityId,
    Integer volunteerId,
    LocalDateTime applicationDate,
    String status,
    Option<String> motivation,
    Option<String> experience,
    Option<String> availability,
    Option<LocalDateTime> interviewDate,
    Option<String> interviewNotes,
    Option<LocalDateTime> decisionDate,
    Option<Integer> decidedBy,
    Option<String> rejectionReason,
    Option<LocalDateTime> startDate,
    Option<LocalDateTime> endDate,
    Option<String> completionNotes,
    Option<Integer> hoursCompleted,
    Option<String> performanceRating,
    LocalDateTime createdDate,
    Option<LocalDateTime> modifiedDate,
    Option<Integer> modifiedBy
) {
    
    public static final String STATUS_PENDING = "Pending";
    public static final String STATUS_REVIEWING = "Reviewing";
    public static final String STATUS_INTERVIEW_SCHEDULED = "Interview Scheduled";
    public static final String STATUS_ACCEPTED = "Accepted";
    public static final String STATUS_REJECTED = "Rejected";
    public static final String STATUS_WITHDRAWN = "Withdrawn";
    public static final String STATUS_ACTIVE = "Active";
    public static final String STATUS_COMPLETED = "Completed";
    
    /**
     * Creates a new application.
     */
    public static VolunteerApplication create(Integer opportunityId, Integer volunteerId,
                                             String motivation, String experience,
                                             String availability) {
        return new VolunteerApplication(
            null, opportunityId, volunteerId, LocalDateTime.now(), STATUS_PENDING,
            Option.of(motivation), Option.of(experience), Option.of(availability),
            Option.none(), Option.none(), Option.none(), Option.none(), Option.none(),
            Option.none(), Option.none(), Option.none(), Option.none(), Option.none(),
            LocalDateTime.now(), Option.none(), Option.none()
        );
    }
    
    /**
     * Checks if application is pending review.
     */
    public boolean isPending() {
        return STATUS_PENDING.equalsIgnoreCase(status) || 
               STATUS_REVIEWING.equalsIgnoreCase(status);
    }
    
    /**
     * Checks if application was successful.
     */
    public boolean isAccepted() {
        return STATUS_ACCEPTED.equalsIgnoreCase(status) || 
               STATUS_ACTIVE.equalsIgnoreCase(status) ||
               STATUS_COMPLETED.equalsIgnoreCase(status);
    }
    
    // Update methods
    public VolunteerApplication scheduleInterview(LocalDateTime interviewTime) {
        return new VolunteerApplication(
            applicationId, opportunityId, volunteerId, applicationDate,
            STATUS_INTERVIEW_SCHEDULED, motivation, experience, availability,
            Option.of(interviewTime), interviewNotes, decisionDate, decidedBy,
            rejectionReason, startDate, endDate, completionNotes, hoursCompleted,
            performanceRating, createdDate, Option.of(LocalDateTime.now()), modifiedBy
        );
    }
    
    public VolunteerApplication accept(Integer deciderId, LocalDateTime start) {
        return new VolunteerApplication(
            applicationId, opportunityId, volunteerId, applicationDate,
            STATUS_ACCEPTED, motivation, experience, availability, interviewDate,
            interviewNotes, Option.of(LocalDateTime.now()), Option.of(deciderId),
            Option.none(), Option.of(start), endDate, completionNotes,
            hoursCompleted, performanceRating, createdDate,
            Option.of(LocalDateTime.now()), Option.of(deciderId)
        );
    }
    
    public VolunteerApplication reject(Integer deciderId, String reason) {
        return new VolunteerApplication(
            applicationId, opportunityId, volunteerId, applicationDate,
            STATUS_REJECTED, motivation, experience, availability, interviewDate,
            interviewNotes, Option.of(LocalDateTime.now()), Option.of(deciderId),
            Option.of(reason), startDate, endDate, completionNotes, hoursCompleted,
            performanceRating, createdDate, Option.of(LocalDateTime.now()),
            Option.of(deciderId)
        );
    }
}
```

================================================================================
Total: 5 files